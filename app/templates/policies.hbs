{{#paper-data-table as |table|}}
  {{#table.head as |head|}}
    {{#head.column}}#{{/head.column}}
    {{#if showId}}
      {{#head.column}}Id{{/head.column}}
    {{/if}}
    {{#head.column}}Explanation{{/head.column}}
    {{#head.column}}Data{{/head.column}}
    {{#head.column}}Location{{/head.column}}
    {{#head.column}}Process{{/head.column}}
    {{#head.column}}Purpose{{/head.column}}
    {{#head.column}}Recipient{{/head.column}}
    {{#head.column}}Actions{{/head.column}}

  {{/table.head}}
  {{#table.body as |body|}}
    {{#each model as |policy index|}}
      {{#if policy.id}}
        {{#body.row as |row|}}
          {{#row.cell}}
            {{add 1 index}}
          {{/row.cell}}
          {{#if showId}}
            {{#row.cell}}
              {{policy.id}}
            {{/row.cell}}
          {{/if}}
          {{#row.cell}}
            {{policy.explanation}}
          {{/row.cell}}
          {{#row.cell}}
            {{get-label-from-value-in-collection array=dataCollections value=policy.dataCollection}}
          {{/row.cell}}
          {{#row.cell}}
            {{get-label-from-value-in-collection array=storageCollections value=policy.storageCollection}}
          {{/row.cell}}
          {{#row.cell}}
            {{get-label-from-value-in-collection array=processingCollections value=policy.processingCollection}}
          {{/row.cell}}
          {{#row.cell}}
            {{get-label-from-value-in-collection array=purposeCollections value=policy.purposeCollection}}
          {{/row.cell}}
          {{#row.cell}}
            {{get-label-from-value-in-collection array=recipientCollections value=policy.recipientCollection}}
          {{/row.cell}}
          {{#row.cell}}
            {{#paper-button onClick=(action "edit" policy) noink=true primary=true raised=true}}Edit{{/paper-button}}
            {{#paper-button onClick=(action "delete" policy) noink=true primary=true raised=true}}Delete{{/paper-button}}
          {{/row.cell}}
        {{/body.row}}
      {{/if}}
    {{/each}}

    {{#body.row as |row|}}
      {{!-- row number --}}
      {{row.cell}}
        {{!-- for id --}}
        {{#if showId}}
          {{row.cell}}
        {{/if}}
        {{!-- for other cells --}}
        {{row.cell}}
        {{row.cell}}
        {{row.cell}}
        {{row.cell}}
        {{row.cell}}
        {{#row.cell}}
          {{#paper-button onClick=(action "create") noink=true primary=true raised=true}}Create new policy{{/paper-button}}
        {{/row.cell}}
    {{/body.row}}
  {{/table.body}}
{{/paper-data-table}}

{{outlet}}
